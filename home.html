<!DOCTYPE html>
<html ng-app="starter">
    <head>
        <meta charset="utf-8">
        <title></title>


        <link href="lib/ionic/css/ionic.css" rel="stylesheet">
        <link href="css/home.css" rel="stylesheet">

        <!-- ionic/angularjs js -->
        <script src="lib/ionic/js/ionic.bundle.js"></script>

        <!-- cordova script (this will be a 404 during development) -->
        <script src="cordova.js"></script>

        <!-- your app's js -->
        <script src="js/app.js"></script>
        <script src="js/contollers.js"></script>
        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
        <script type="text/javascript" charset="utf-8">

            var pictureSource;   // picture source
            var destinationType; // sets the format of returned value

            // Wait for device API libraries to load
            //
            document.addEventListener("deviceready",onDeviceReady,false);

            // device APIs are available
            //
            function onDeviceReady() {
                pictureSource=navigator.camera.PictureSourceType;
                destinationType=navigator.camera.DestinationType;
            }

            // Called when a photo is successfully retrieved
            //
            function onPhotoDataSuccess(imageData) {
                // Uncomment to view the base64-encoded image data
                // console.log(imageData);

                // Get image handle
                //
                var smallImage = document.getElementById('smallImage');

                // Unhide image elements
                //
                smallImage.style.display = 'block';

                // Show the captured photo
                // The in-line CSS rules are used to resize the image
                //
                smallImage.src = "data:image/jpeg;base64," + imageData;
                alert(imageData);
                sessionStorage.setItem("path",imageData);
                callAnotherPage('newzone.html');
            }

            // Called when a photo is successfully retrieved
            //
            function onPhotoURISuccess(imageURI) {
                // Uncomment to view the image file URI
                // console.log(imageURI);

                // Get image handle
                //
                var largeImage = document.getElementById('largeImage');

                // Unhide image elements
                //
                largeImage.style.display = 'block';

                // Show the captured photo
                // The in-line CSS rules are used to resize the image
                //
                largeImage.src = imageURI;
            }

            // A button will call this function
            //
            function capturePhoto() {
                // Take picture using device camera and retrieve image as base64-encoded string
                navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50,
                    destinationType: destinationType.DATA_URL });
            }

            // A button will call this function
            //
            function capturePhotoEdit() {
                // Take picture using device camera, allow edit, and retrieve image as base64-encoded string
                navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: true,
                    destinationType: destinationType.DATA_URL });
            }

            // A button will call this function
            //
            function getPhoto(source) {
                // Retrieve image file location from specified source
                navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50,
                    destinationType: destinationType.FILE_URI,
                    sourceType: source });
            }

            // Called if something bad happens.
            //
            function onFail(message) {
                alert('Failed because: ' + message);
            }

        </script>
    </head>
    <body ng-controller="AppCtrl">

        <ion-side-menus-- >
            <!-- Main content-->
                <ion-side-menu-content>


                    <ion-content>

                        <div class="bar bar-dark">
                            <button class="button button-icon icon ion-navicon"
                                    ng-click="toggleLeft()"
                                    ng-hide="$exposeAside.active">
                            </button>

                            <div class="h1 title">7Ã¨me continent</div>
                            <button class="button button-clear button-positive">Edit</button>
                        </div>
                        <br><br>

                        <button onclick="capturePhoto();">Capture Photo</button><br>
                        <button onclick="capturePhotoEdit();">Capture Editable Photo</button> <br>
                        <button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">From Photo Library</button><br>
                        <button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">From Photo Album</button><br>
                        <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
                        <img style="display:none;" id="largeImage" src="" />

                    </ion-content>
                </ion-side-menu-content>


            <ion-side-menu>
                <ion-header-bar class="bar-royal">
                    <h1 class="title">Left Menu</h1>
                </ion-header-bar>
                <ion-content>
                    <div class="list">
                        <div class="item">
                            A few
                        </div>
                        <div class="item">
                            of my
                        </div>
                        <div class="item">
                            favorite
                        </div>
                        <div class="item">
                            things
                        </div>
                    </div>
                </ion-content>
            </ion-side-menu>

        </ion-side-menus-->
    </body>
</html>
